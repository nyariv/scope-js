<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script deferred src="../dist/defaultInit.js" type="module"></script>
  <link rel="stylesheet" href="../dist/scopejs.css">
  <title>Scope.js Test</title>
  <style>
    body {font-family: Arial, Helvetica, sans-serif; font-size: 14px;}
    .containers {display: flex}
    .containers > * {margin: 20px}
    .rating {width: 200px}
    [\@click] {cursor: pointer; user-select: none;}
    label {margin: 0 0 10px 0; display: block;}
    form {display: flex; width: 600px}
  </style>
</head>
<body x-app x-cloak>
  <div class="containers">
    <div class="rating" $offset="1" $range="[0]">
      <h2>Repeat</h2>
      <script type="scopejs">
        $watch(() => offset, (val) => console.log(val));
      </script>
      <input type="number" value="1" @input="range = Array($el.val()).keys()">
      <div x-for="(a, x) in range" @click="++offset">
        <span x-for="b in [0,1,2,3,4]">{{ (a + offset) % 6 > b ? '★' : '☆' }}</span>
      </div>
    </div>
    <div class="html">
      <h2>HTML</h2>
      <script type="scopejs">
        let text = "type <i>here</i>";
      </script>
      <textarea x-model="text" :cols="40" :rows="10"></textarea>
      <div class="preview" x-html="text"></div>
    </div>
    <form x-ref="myForm" $values="{}">
      <div>
        <h2>Form</h2>
        <label>Checkbox <input type="checkbox" x-model="values.checkbox"></label>
        <label>Radio 1 <input type="radio" value="radio1" x-model="values.radio"></label>
        <label>Radio 2 <input type="radio" value="radio2" x-model="values.radio"></label>
        <label>Radio 3 <input type="radio" value="radio3" x-model="values.radio"></label>
        <label>Radio 4 <input type="radio" value="radio4" x-model="values.radio"></label>
        <label>Select
          <select x-model="values.select">
            <option :value="'option' + x" x-for="x in [1,2,3,4,5]">Option {{x}}</option>
          </select>
        </label>
        <label>Multi Select
          <select x-model="values.multiSelect" multiple>
            <option :value="'option' + x" x-for="x in [1,2,3,4,5]">Option {{x}}</option>
          </select>
        </label>
        <label x-for="type in ['color', 'date', 'datetime-local', 'email', 'file', 'month', 'number', 'password', 'range', 'tel', 'text', 'time', 'url', 'week']">
          Input {{type}} <input x-model="values[type]" :name="type" :type="type">
        </label>
        <input type="reset">
        <input type="button" value="button">
        <button type="submit">Submit</button>
        <button type="reset">Reset</button>
        <button type="button">Button</button>
      </div>
      <div>
        <h2>Form values</h2>
        <pre x-text="JSON.stringify(values, '', '  ')"></pre>
      </div>
    </form>
    <div>
      <h2>Recursion</h2>
<script>
let menu = [
  {
    text: "Item 1", 
    children: []
  }, {
    text: "Item 2", 
    children: [
      {
        text: "Item 3", 
        children: []
      }, {
        text: "Item 4", 
        children: []
      }
    ]
  }, {
    text: "Item 5", 
    children: [
      {
        text: "Item 6", 
        children: [
          {
            text: "Item 7", 
            children: []
          }, {
            text: "Item 8", 
            children: []
          }
        ]
      }, {
        text: "Item 9", 
        children: [
          {
            text: "Item 10", 
            children: []
          }, {
            text: "Item 11", 
            children: []
          }
        ]
      }
    ]
  }, {
    text: "Item 12", 
    children: []
  }
];

let template = `<li x-for="item in children" $children="item.children">
                  {{item.text}}
                  <ul x-if="item.children.length" x-html="template"></ul>
                </li>`;
</script>
        <ol $children="menu" x-html="template"></ol>
    </div>
  </div>
</body>
</html>